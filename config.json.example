{
  "_comment": "Gmail Agent Pipeline Configuration",
  "_description": "This file defines multiple email searches to be executed in sequence",

  "credentials_file": "credentials.json",

  "searches": [
    {
      "name": "Unread Emails",
      "query": "is:unread",
      "output": "unread_emails.xlsx",
      "max_results": 50
    },
    {
      "name": "Important with Attachments",
      "query": "is:important has:attachment",
      "output": "important_attachments.xlsx",
      "max_results": 100
    },
    {
      "name": "Last Week Emails",
      "query": "newer_than:7d",
      "output": "last_week.xlsx",
      "max_results": 200
    },
    {
      "name": "Emails from Specific Sender",
      "query": "from:example@gmail.com",
      "output": "from_example.xlsx",
      "max_results": 50
    },
    {
      "name": "Invoice Emails",
      "query": "subject:invoice has:attachment",
      "output": "invoices.xlsx",
      "max_results": 100
    },
    {
      "name": "Date Range Query",
      "query": "after:2024/01/01 before:2024/12/31",
      "output": "year_2024.xlsx",
      "max_results": 500
    },
    {
      "name": "Multiple Criteria",
      "query": "from:boss@company.com is:important newer_than:30d",
      "output": "important_from_boss.xlsx",
      "max_results": 100
    }
  ],

  "analyze_repos": {
    "input_file": "important_from_boss.xlsx",
    "output_file": "analyzed_repos.xlsx",
    "temp_dir": "TempFiles",
    "cleanup": true,
    "small_file_threshold": 150
  },

  "generate_messages": {
    "input_file": "analyzed_repos.xlsx",
    "output_file": "repos_with_feedback.xlsx"
  },

  "draft_emails": {
    "input_file": "repos_with_feedback.xlsx",
    "credentials_file": "credentials.json"
  },

  "_field_descriptions": {
    "credentials_file": "Path to OAuth 2.0 credentials file (optional, defaults to 'credentials.json')",
    "name": "Descriptive name for the search (optional, defaults to 'Search N')",
    "query": "Gmail search query using Gmail search operators (required)",
    "output": "Output Excel filename (optional, defaults to 'search_N.xlsx')",
    "max_results": "Maximum number of emails to retrieve (optional, defaults to 100)",
    "analyze_repos": "Optional: Analyze GitHub repositories from one of the output files",
    "input_file": "Excel file containing GitHub URLs to analyze (required for analyze_repos/generate_messages)",
    "output_file": "Output file for results (optional, defaults vary by agent)",
    "temp_dir": "Directory for cloning repositories (optional, defaults to 'TempFiles')",
    "cleanup": "Remove cloned repos after analysis (optional, defaults to true)",
    "small_file_threshold": "Maximum line count for a file to be considered 'small' (optional, defaults to 150)",
    "generate_messages": "Optional: Generate personalized feedback messages based on grades (90+: Trump, 70-89: Netanyahu, 50-69: Hason, <50: Amsalem)",
    "draft_emails": "Optional: Create Gmail draft messages from feedback messages with subject 'Feedback message to [ID]'"
  }
}
